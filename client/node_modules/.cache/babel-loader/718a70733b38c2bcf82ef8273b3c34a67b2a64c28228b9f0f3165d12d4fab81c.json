{"ast":null,"code":"var _jsxFileName = \"/Users/khalidabourkia/Desktop/diagram/client/src/components/KPIDiagram.jsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useMemo, useRef, useState, memo } from 'react';\nimport ReactFlow, { Background, Controls, useNodesState, useReactFlow, useEdgesState, Handle, Position } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport axios from 'axios';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomNode = /*#__PURE__*/memo(_c = ({\n  data\n}) => {\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      scale: 0.98\n    },\n    animate: {\n      opacity: 1,\n      scale: 1\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.98\n    },\n    transition: {\n      duration: 0.2\n    },\n    style: {\n      backgroundColor: '#ffffff',\n      border: '1px solid #e5e7eb',\n      borderRadius: '12px',\n      padding: '16px',\n      width: 250,\n      boxShadow: '0px 1px 4px rgba(0, 0, 0, 0.05)',\n      fontFamily: 'Inter, sans-serif',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Handle, {\n      type: \"target\",\n      position: Position.Left,\n      style: {\n        opacity: 0\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        fontWeight: 500,\n        color: '#2563eb',\n        marginBottom: 0\n      },\n      children: [\"nodeID : \", data.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        fontWeight: 500,\n        color: '#2563eb',\n        marginBottom: 4\n      },\n      children: [\"reportName : \", data.reportName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 16,\n        color: '#374151'\n      },\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), data.hasChildren && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: data.onDrill,\n      style: {\n        position: 'absolute',\n        bottom: 8,\n        right: 8,\n        fontSize: 14,\n        border: 'none',\n        borderRadius: '4px',\n        background: '#e0e7ff',\n        color: '#1d4ed8',\n        cursor: 'pointer',\n        padding: '2px 6px'\n      },\n      children: data.expanded ? '−' : `${data.childrenNum}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"source\",\n      position: Position.Right,\n      style: {\n        opacity: 0\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n});\n_c2 = CustomNode;\nconst defaultEdgeOptions = {\n  type: 'smoothstep'\n};\nconst layoutHorizontalTree = (node, childrenMap, x = 0, y = 0, spacing = {\n  x: 250,\n  y: 100\n}) => {\n  const children = childrenMap[node.id] || [];\n  let nodes = [];\n  let edges = [];\n  if (children.length === 0) {\n    const currentNode = {\n      id: node.id,\n      type: 'customNode',\n      position: {\n        x,\n        y\n      },\n      data: node.data\n    };\n    return {\n      nodes: [currentNode],\n      edges: [],\n      height: spacing.y,\n      centerY: y\n    };\n  }\n  let totalHeight = 0;\n  const childLayouts = [];\n  for (const child of children) {\n    const childLayout = layoutHorizontalTree(child, childrenMap, x + spacing.x, y + totalHeight, spacing);\n    totalHeight += childLayout.height;\n    childLayouts.push(childLayout);\n  }\n  const centerY = y + totalHeight / 2;\n  const currentNode = {\n    id: node.id,\n    type: 'customNode',\n    position: {\n      x,\n      y: centerY\n    },\n    data: node.data\n  };\n  childLayouts.forEach(layout => {\n    edges.push({\n      id: `e-${node.id}-${layout.nodes[0].id}`,\n      source: node.id,\n      target: layout.nodes[0].id,\n      sourceHandle: 'a',\n      targetHandle: 'a'\n    });\n  });\n  return {\n    nodes: [currentNode, ...childLayouts.flatMap(c => c.nodes)],\n    edges,\n    height: totalHeight,\n    centerY\n  };\n};\nconst KPIDiagram = () => {\n  _s();\n  const newNodesRef = useRef([]);\n  const edgesRef = useRef([]);\n  const reactFlowInstance = useRef(null);\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const nodeTypes = useMemo(() => ({\n    customNode: CustomNode\n  }), []);\n  const fetchNode = async nodeId => {\n    try {\n      const res = await axios.get(`http://localhost:8000/api/node/${nodeId}`);\n      return res.data.node;\n    } catch (error) {\n      console.error('Error fetching node:', error);\n      return null;\n    }\n  };\n  const handleDrill = useCallback(async nodeId => {\n    const node = await fetchNode(nodeId);\n    if (!node || !node.childrenData) return;\n    const rootNode = {\n      id: node.id,\n      data: {\n        label: node.parentName || node.label,\n        id: node.id,\n        reportName: node.reportName,\n        hasChildren: true,\n        expanded: true,\n        childrenNum: Object.keys(node.childrenData).length,\n        onDrill: () => handleDrill(node.id)\n      }\n    };\n    const childrenMap = {\n      [node.id]: Object.entries(node.childrenData).map(([childId, childData]) => ({\n        id: childId,\n        data: {\n          label: childData.label,\n          id: childId,\n          reportName: node.reportName,\n          hasChildren: childData.hasChildren,\n          expanded: false,\n          childrenNum: childData.childrenNum,\n          onDrill: () => handleDrill(childId)\n        }\n      }))\n    };\n    const {\n      nodes: treeNodes,\n      edges: treeEdges\n    } = layoutHorizontalTree(rootNode, childrenMap);\n    newNodesRef.current = treeNodes;\n    edgesRef.current = treeEdges;\n    setNodes(treeNodes);\n    setEdges(treeEdges);\n    if (reactFlowInstance.current) {\n      reactFlowInstance.current.fitView({\n        padding: 0.3,\n        maxZoom: 1.5\n      });\n    }\n  }, []);\n  const onInit = useCallback(rfi => {\n    reactFlowInstance.current = rfi;\n  }, []);\n  useEffect(() => {\n    const loadRoot = async () => {\n      const root = await fetchNode('EC140');\n      if (!root) return;\n      handleDrill(root.id);\n    };\n    loadRoot();\n  }, [handleDrill]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      nodeTypes: nodeTypes,\n      fitView: true,\n      fitViewOptions: {\n        padding: 0.4\n      },\n      onInit: onInit,\n      defaultEdgeOptions: defaultEdgeOptions,\n      children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n};\n_s(KPIDiagram, \"VV/mMiTKfRjNluiuY2+OGUaMVh8=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c3 = KPIDiagram;\nexport default KPIDiagram;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CustomNode$memo\");\n$RefreshReg$(_c2, \"CustomNode\");\n$RefreshReg$(_c3, \"KPIDiagram\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","memo","ReactFlow","Background","Controls","useNodesState","useReactFlow","useEdgesState","Handle","Position","axios","motion","jsxDEV","_jsxDEV","CustomNode","_c","data","div","initial","opacity","scale","animate","exit","transition","duration","style","backgroundColor","border","borderRadius","padding","width","boxShadow","fontFamily","position","children","type","Left","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","fontWeight","color","marginBottom","id","reportName","label","hasChildren","onClick","onDrill","bottom","right","background","cursor","expanded","childrenNum","Right","_c2","defaultEdgeOptions","layoutHorizontalTree","node","childrenMap","x","y","spacing","nodes","edges","length","currentNode","height","centerY","totalHeight","childLayouts","child","childLayout","push","forEach","layout","source","target","sourceHandle","targetHandle","flatMap","c","KPIDiagram","_s","newNodesRef","edgesRef","reactFlowInstance","setNodes","onNodesChange","setEdges","onEdgesChange","nodeTypes","customNode","fetchNode","nodeId","res","get","error","console","handleDrill","childrenData","rootNode","parentName","Object","keys","entries","map","childId","childData","treeNodes","treeEdges","current","fitView","maxZoom","onInit","rfi","loadRoot","root","fitViewOptions","_c3","$RefreshReg$"],"sources":["/Users/khalidabourkia/Desktop/diagram/client/src/components/KPIDiagram.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState , memo} from 'react';\nimport ReactFlow, {\n  Background,\n  Controls,\n  useNodesState,\n  useReactFlow, \n  useEdgesState,\n  Handle,\n  Position,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport axios from 'axios';\nimport { motion } from 'framer-motion';\n\nconst CustomNode = memo(({ data }) => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.98 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.98 }}\n      transition={{ duration: 0.2 }}\n      style={{\n        backgroundColor: '#ffffff',\n        border: '1px solid #e5e7eb',\n        borderRadius: '12px',\n        padding: '16px',\n        width: 250,\n        boxShadow: '0px 1px 4px rgba(0, 0, 0, 0.05)',\n        fontFamily: 'Inter, sans-serif',\n        position: 'relative',\n      }}\n    >\n      <Handle type=\"target\" position={Position.Left} style={{ opacity: 0 }} />\n      <div style={{ fontSize: 12, fontWeight: 500, color: '#2563eb', marginBottom: 0 }}>\n        nodeID : {data.id}\n      </div>\n      <div style={{ fontSize: 12, fontWeight: 500, color: '#2563eb', marginBottom: 4 }}>\n        reportName : {data.reportName}\n      </div>\n      <div style={{ fontSize: 16, color: '#374151' }}>{data.label}</div>\n      {data.hasChildren && (\n        <button\n          onClick={data.onDrill}\n          style={{\n            position: 'absolute',\n            bottom: 8,\n            right: 8,\n            fontSize: 14,\n            border: 'none',\n            borderRadius: '4px',\n            background: '#e0e7ff',\n            color: '#1d4ed8',\n            cursor: 'pointer',\n            padding: '2px 6px'\n          }}\n        >\n          {data.expanded ? '−' : `${data.childrenNum}`}\n        </button>\n      )}\n      <Handle type=\"source\" position={Position.Right} style={{ opacity: 0 }} />\n    </motion.div>\n  );\n});\n\nconst defaultEdgeOptions = {\n  type: 'smoothstep',\n};\n\nconst layoutHorizontalTree = (node, childrenMap, x = 0, y = 0, spacing = { x: 250, y: 100 }) => {\n  const children = childrenMap[node.id] || [];\n\n  let nodes = [];\n  let edges = [];\n\n  if (children.length === 0) {\n    const currentNode = {\n      id: node.id,\n      type: 'customNode',\n      position: { x, y },\n      data: node.data,\n    };\n    return {\n      nodes: [currentNode],\n      edges: [],\n      height: spacing.y,\n      centerY: y,\n    };\n  }\n\n  let totalHeight = 0;\n  const childLayouts = [];\n\n  for (const child of children) {\n    const childLayout = layoutHorizontalTree(\n      child,\n      childrenMap,\n      x + spacing.x,\n      y + totalHeight,\n      spacing\n    );\n    totalHeight += childLayout.height;\n    childLayouts.push(childLayout);\n  }\n\n  const centerY = y + totalHeight / 2;\n\n  const currentNode = {\n    id: node.id,\n    type: 'customNode',\n    position: { x, y: centerY },\n    data: node.data,\n  };\n\n  childLayouts.forEach((layout) => {\n    edges.push({\n      id: `e-${node.id}-${layout.nodes[0].id}`,\n      source: node.id,\n      target: layout.nodes[0].id,\n      sourceHandle: 'a',\n      targetHandle: 'a',\n    });\n  });\n\n  return {\n    nodes: [currentNode, ...childLayouts.flatMap((c) => c.nodes)],\n    edges,\n    height: totalHeight,\n    centerY,\n  };\n};\n\nconst KPIDiagram = () => {\n  const newNodesRef = useRef([]);\n  const edgesRef = useRef([]);\n  const reactFlowInstance = useRef(null);\n\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n\n  const nodeTypes = useMemo(() => ({ customNode: CustomNode }), []);\n\n  const fetchNode = async (nodeId) => {\n    try {\n      const res = await axios.get(`http://localhost:8000/api/node/${nodeId}`);\n      return res.data.node;\n    } catch (error) {\n      console.error('Error fetching node:', error);\n      return null;\n    }\n  };\n\n  const handleDrill = useCallback(async (nodeId) => {\n    const node = await fetchNode(nodeId);\n    if (!node || !node.childrenData) return;\n\n    const rootNode = {\n      id: node.id,\n      data: {\n        label: node.parentName || node.label,\n        id: node.id,\n        reportName: node.reportName,\n        hasChildren: true,\n        expanded: true,\n        childrenNum: Object.keys(node.childrenData).length,\n        onDrill: () => handleDrill(node.id),\n      },\n    };\n\n    const childrenMap = {\n      [node.id]: Object.entries(node.childrenData).map(([childId, childData]) => ({\n        id: childId,\n        data: {\n          label: childData.label,\n          id: childId,\n          reportName: node.reportName,\n          hasChildren: childData.hasChildren,\n          expanded: false,\n          childrenNum: childData.childrenNum,\n          onDrill: () => handleDrill(childId),\n        },\n      })),\n    };\n\n    const { nodes: treeNodes, edges: treeEdges } = layoutHorizontalTree(rootNode, childrenMap);\n\n    newNodesRef.current = treeNodes;\n    edgesRef.current = treeEdges;\n\n    setNodes(treeNodes);\n    setEdges(treeEdges);\n\n    if (reactFlowInstance.current) {\n      reactFlowInstance.current.fitView({ padding: 0.3, maxZoom: 1.5 });\n    }\n  }, []);\n\n  const onInit = useCallback((rfi) => {\n    reactFlowInstance.current = rfi;\n  }, []);\n\n  useEffect(() => {\n    const loadRoot = async () => {\n      const root = await fetchNode('EC140');\n      if (!root) return;\n      handleDrill(root.id);\n    };\n    loadRoot();\n  }, [handleDrill]);\n\n  return (\n    <div style={{ width: '100vw', height: '100vh' }}>\n      <ReactFlow\n        nodes={nodes}\n        edges={edges}\n        onNodesChange={onNodesChange}\n        onEdgesChange={onEdgesChange}\n        nodeTypes={nodeTypes}\n        fitView\n        fitViewOptions={{ padding: 0.4 }}\n        onInit={onInit}\n        defaultEdgeOptions={defaultEdgeOptions}\n      >\n        <Background />\n        <Controls />\n      </ReactFlow>\n    </div>\n  );\n};\n\nexport default KPIDiagram;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}